(this["webpackJsonpcovid19-dashboard"]=this["webpackJsonpcovid19-dashboard"]||[]).push([[0],{120:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(0),s=a.n(r),c=a(16),i=a.n(c),o=(a(120),a(87)),u=a.n(o),l=a(27),d=a.n(l),b=a(49),j=a(58),m=a(40),p=a(101),h=a(100),v=a.p+"static/media/logo.8ad205b8.png",f=a(196),x=Object(f.a)((function(e){return{div:{width:"100%"},title:{textAlign:"center",fontSize:"36px"},img:{height:"27px"}}}));function O(){var e=x();return Object(n.jsx)("div",{className:e.div,children:Object(n.jsxs)("h1",{className:e.title,children:["C",Object(n.jsx)("img",{className:e.img,alt:"logo",src:v}),"VID-19 UK"]})})}var y=a(31),C=a(21),g=a(203),D=a(202),w=a(198),B=a(200),N=a(201),P=a(52),S=a(91),k=a.n(S);function T(e){var t=e.title,a=e.subtitle,r=e.value,s=e.lastUpdate;return Object(n.jsx)(w.a,{item:!0,xs:6,sm:6,md:6,lg:6,xl:6,children:Object(n.jsx)(B.a,{children:Object(n.jsxs)(N.a,{children:[Object(n.jsx)(P.a,{color:"textSecondary",gutterBottom:!0,children:t}),Object(n.jsx)(P.a,{variant:"h5",component:"h2",children:Object(n.jsx)(k.a,{start:0,end:r,duration:2.75,separator:","})}),Object(n.jsx)(P.a,{color:"textSecondary",children:new Date(s).toDateString()}),Object(n.jsx)(P.a,{variant:"body2",component:"p",children:a})]})})})}var U=Object(f.a)((function(e){return{root:{height:"20%",marginBottom:"0.5rem"}}}));function L(e){var t=e.lastDailyCases,a=e.cumulativeCases,r=e.lastUpdated,s=U();return Object(n.jsx)("div",{children:Object(n.jsxs)(w.a,{container:!0,className:s.root,spacing:3,justify:"center",children:[Object(n.jsx)(T,{title:"Daily",subtitle:"Number of active cases",value:t,lastUpdate:r}),Object(n.jsx)(T,{title:"Cumulative",subtitle:"Number of cumulative cases",value:a,lastUpdate:r})]})})}var F=a(6),I=a(102),R=a(29),A=a(8),K=a(19),$=a(93),z=a(204),J=function(e){return Object(n.jsx)(R.d.Path,Object(y.a)(Object(y.a)({},e),{},{path:Object($.a)().x((function(e){return e.arg})).y((function(e){return e.val})).curve(z.a)}))},M=Object(A.a)({title:{textAlign:"center",width:"100%",marginBottom:"10px"}})((function(e){var t=e.text,a=e.classes,r=t.split("\\n"),s=Object(C.a)(r,2),c=s[0],i=s[1];return Object(n.jsxs)("div",{className:a.title,children:[Object(n.jsx)(P.a,{component:"h3",variant:"h5",children:c}),Object(n.jsx)(P.a,{variant:"subtitle1",children:i})]})})),V=Object(A.a)((function(){return{root:{display:"flex",margin:"auto",flexDirection:"row"}}}),{name:"LegendRoot"})((function(e){var t=e.classes,a=Object(F.a)(e,["classes"]);return Object(n.jsx)(R.c.Root,Object(y.a)(Object(y.a)({},a),{},{className:t.root}))})),E=Object(A.a)((function(e){return{label:{marginBottom:e.spacing(1),whiteSpace:"nowrap"}}}),{name:"LegendLabel"})((function(e){var t=e.classes,a=Object(F.a)(e,["classes"]);return Object(n.jsx)(R.c.Label,Object(y.a)({className:t.label},a))})),G=Object(A.a)((function(){return{item:{flexDirection:"column-reverse"}}}),{name:"LegendItem"})((function(e){var t=e.classes,a=Object(F.a)(e,["classes"]);return Object(n.jsx)(R.c.Item,Object(y.a)({className:t.item},a))})),W=Object(f.a)((function(e){return{root:{marginBottom:"2rem"}}}));function q(e){var t=e.country,a=W();return Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)(I.a,{children:Object(n.jsxs)(R.b,{data:t.chartData,children:[Object(n.jsx)(R.a,{showLabels:!1,showTicks:!1}),Object(n.jsx)(R.g,{}),Object(n.jsx)(R.d,{name:t.name,valueField:"newCasesByPublishDate",argumentField:"date",seriesComponent:J}),Object(n.jsx)(R.c,{position:"bottom",rootComponent:V,itemComponent:G,labelComponent:E}),Object(n.jsx)(R.e,{text:"Daily Covid Cases",textComponent:M}),Object(n.jsx)(K.e,{}),Object(n.jsx)(R.f,{}),Object(n.jsx)(K.a,{})]})})})}var H=a(11),Q=a(55),X=[{name:"date",title:"Date"},{name:"newCasesByPublishDate",title:"Daily Cases"},{name:"cumCasesByPublishDate",title:"Cumulative Cases"}],Y=function(e){return e.value.replace(/(\d{4})-(\d{2})-(\d{2})/,"$3.$2.$1")},Z=function(e){return Object(n.jsx)(H.b,Object(y.a)({formatterComponent:Y},e))},_=Object(f.a)((function(e){return{root:{marginBottom:"2rem"},title:{textAlign:"center",width:"100%",padding:"1.5rem"}}}));function ee(e){var t=e.country,a=_(),s=Object(r.useState)(["date"]),c=Object(C.a)(s,1)[0];return Object(n.jsxs)(I.a,{className:a.root,children:[Object(n.jsx)(P.a,{variant:"h5",component:"h2",className:a.title,children:"Data"}),Object(n.jsxs)(Q.a,{rows:t.gridData,columns:X,children:[Object(n.jsx)(H.j,{defaultCurrentPage:0,pageSize:10}),Object(n.jsx)(H.h,{}),Object(n.jsx)(Z,{for:c}),Object(n.jsx)(Q.c,{}),Object(n.jsx)(Q.d,{}),Object(n.jsx)(Q.b,{})]})]})}var te=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,height:"100vh",width:"100%"},container:{marginLeft:"1rem",marginRight:"0.5rem"}}}));function ae(e){var t=e.value,a=e.index,r=e.country,s=te();return Object(n.jsx)("div",{role:"tabpanel",hidden:t!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a),className:s.root,children:t===a&&Object(n.jsxs)("div",{className:s.container,children:[Object(n.jsx)(L,{lastDailyCases:r.lastDailyCases,cumulativeCases:r.cumulativeCases,lastUpdated:r.lastUpdated}),Object(n.jsx)(q,{country:r}),Object(n.jsx)(ee,{country:r})]})})}var ne=Object(f.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"100vh",width:"100%"},tabs:{minWidth:"50px",borderRight:"1px solid ".concat(e.palette.divider)},tab:{marginRight:"1rem"},panels:{width:"100%"}}}));function re(e){var t=e.data,a=ne(),r=s.a.useState(0),c=Object(C.a)(r,2),i=c[0],o=c[1];return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(g.a,{orientation:"vertical",variant:"scrollable",value:i,onChange:function(e,t){o(t)},"aria-label":"Vertical tabs example",className:a.tabs,children:t&&t.map((function(e){return Object(n.jsx)(D.a,Object(y.a)({index:e.id,label:e.name,className:a.tab},(t=e.id,{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)})),e.id);var t}))}),Object(n.jsx)("div",{className:a.panels,children:t&&t.map((function(e){return Object(n.jsx)(ae,{value:i,index:e.id,country:e},e.id)}))})]})}var se,ce,ie,oe=a(33),ue=a(72),le=a.n(ue),de=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:return se=e.sent,e.next=5,je();case 5:return ce=e.sent,he=0,e.abrupt("return",pe());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=nation&structure=%7B%22areaType%22:%22areaType%22,%22areaName%22:%22areaName%22,%22areaCode%22:%22areaCode%22,%22date%22:%22date%22,%22newCasesByPublishDate%22:%22newCasesByPublishDate%22,%22cumCasesByPublishDate%22:%22cumCasesByPublishDate%22%7D&format=json",e.next=4,le.a.get("https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=nation&structure=%7B%22areaType%22:%22areaType%22,%22areaName%22:%22areaName%22,%22areaCode%22:%22areaCode%22,%22date%22:%22date%22,%22newCasesByPublishDate%22:%22newCasesByPublishDate%22,%22cumCasesByPublishDate%22:%22cumCasesByPublishDate%22%7D&format=json");case 4:return t=e.sent,a=t.data.data,e.next=8,a;case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),console.log("Function: fetchCountryData \n"+e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=overview&structure=%7B%22areaType%22:%22areaType%22,%22areaName%22:%22areaName%22,%22areaCode%22:%22areaCode%22,%22date%22:%22date%22,%22newCasesBySpecimenDate%22:%22newCasesBySpecimenDate%22,%22cumCasesBySpecimenDate%22:%22cumCasesBySpecimenDate%22%7D&format=json",e.next=4,le.a.get("https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=overview&structure=%7B%22areaType%22:%22areaType%22,%22areaName%22:%22areaName%22,%22areaCode%22:%22areaCode%22,%22date%22:%22date%22,%22newCasesBySpecimenDate%22:%22newCasesBySpecimenDate%22,%22cumCasesBySpecimenDate%22:%22cumCasesBySpecimenDate%22%7D&format=json");case 4:return t=e.sent,a=t.data.data,e.abrupt("return",a.map((function(e){return me(e)})));case 10:return e.prev=10,e.t0=e.catch(0),console.log("Function: fetchUkData \n"+e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),me=function(e){return{areaCode:e.areaCode,areaName:e.areaName,areaType:e.areaType,cumCasesByPublishDate:e.cumCasesBySpecimenDate,date:e.date,newCasesByPublishDate:e.newCasesBySpecimenDate}},pe=function(){var e=Object(oe.a)(new Set(se.map((function(e){return e.areaName}))));return e.unshift("United Kingdom"),e.map((function(e){return ve(e)}))},he=0,ve=function(e){var t=se;"United Kingdom"===e&&(t=ce);var a=t.filter((function(t){return t.areaName===e})),n=a.map((function(e){return{date:e.date,newCasesByPublishDate:e.newCasesByPublishDate}})),r=t.filter((function(t){return t.areaName===e})).map((function(e){return{date:e.date,newCasesByPublishDate:e.newCasesByPublishDate,cumCasesByPublishDate:e.cumCasesByPublishDate}})),s=a[0],c=fe(n),i={id:he,name:s.areaName,lastUpdated:s.date,lastDailyCases:s.newCasesByPublishDate,cumulativeCases:s.cumCasesByPublishDate,chartData:c,gridData:r};return he++,i},fe=function(e){return e.reverse()},xe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).state={data:ie},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:ie=e.sent,this.setState({data:ie});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"render",value:function(){var e=this.state.data;return Object(n.jsxs)("div",{children:[Object(n.jsx)(O,{}),Object(n.jsx)(re,{data:e})]})}}]),a}(r.Component);var Oe=function(){return Object(n.jsx)("div",{className:u.a.App,children:Object(n.jsx)(xe,{})})},ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,205)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Oe,{})}),document.getElementById("root")),ye()},87:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.43dcfc6e.chunk.js.map